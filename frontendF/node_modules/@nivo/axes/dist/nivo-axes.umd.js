!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@react-spring/web"),require("@nivo/core"),require("d3-time-format"),require("d3-format"),require("@nivo/scales"),require("react/jsx-runtime"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","@react-spring/web","@nivo/core","d3-time-format","d3-format","@nivo/scales","react/jsx-runtime","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e["@react-spring/web"],e.nivo,e.d3,e.d3,e.nivo,e["react/jsx-runtime"],e.PropTypes)}(this,(function(e,t,i,n,r,a,o,s,l){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var u=f(t),d=c(l);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},x.apply(this,arguments)}var m=function(e){var t,i=e.axis,r=e.scale,a=e.ticksPosition,s=e.tickValues,l=e.tickSize,c=e.tickPadding,f=e.tickRotation,u=e.engine,d=void 0===u?"svg":u,m=o.getScaleTicks(r,s),y=n.textPropsByEngine[d],g="bandwidth"in r?o.centerScale(r):r,v={lineX:0,lineY:0},p={textX:0,textY:0},h="object"==typeof document&&"rtl"===document.dir,k=y.align.center,b=y.baseline.center;return"x"===i?(t=function(e){var t;return{x:null!=(t=g(e))?t:0,y:0}},v.lineY=l*("after"===a?1:-1),p.textY=(l+c)*("after"===a?1:-1),b="after"===a?y.baseline.top:y.baseline.bottom,0===f?k=y.align.center:"after"===a&&f<0||"before"===a&&f>0?(k=y.align[h?"left":"right"],b=y.baseline.center):("after"===a&&f>0||"before"===a&&f<0)&&(k=y.align[h?"right":"left"],b=y.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=g(e))?t:0}},v.lineX=l*("after"===a?1:-1),p.textX=(l+c)*("after"===a?1:-1),k="after"===a?y.align.left:y.align.right),{ticks:m.map((function(e){return x({key:"number"==typeof e||"string"==typeof e?e:""+e,value:e},t(e),v,p)})),textAlign:k,textBaseline:b}},y=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var i=r.timeFormat(e);return function(e){return i(e instanceof Date?e:new Date(e))}}return a.format(e)},g=function(e){var t,i=e.width,n=e.height,r=e.scale,a=e.axis,s=e.values,l=(t=s,Array.isArray(t)?s:void 0)||o.getScaleTicks(r,s),c="bandwidth"in r?o.centerScale(r):r,f="x"===a?l.map((function(e){var t,i;return{key:""+e,x1:null!=(t=c(e))?t:0,x2:null!=(i=c(e))?i:0,y1:0,y2:n}})):l.map((function(e){var t,n;return{key:""+e,x1:0,x2:i,y1:null!=(t=c(e))?t:0,y2:null!=(n=c(e))?n:0}}));return f},v=t.memo((function(e){var r,a=e.value,o=e.format,l=e.lineX,c=e.lineY,f=e.onClick,u=e.textBaseline,d=e.textAnchor,m=e.animatedProps,y=n.useTheme(),g=null!=(r=null==o?void 0:o(a))?r:a,v=t.useMemo((function(){var e={opacity:m.opacity};return f?{style:x({},e,{cursor:"pointer"}),onClick:function(e){return f(e,g)}}:{style:e}}),[m.opacity,f,g]);return s.jsxs(i.animated.g,x({transform:m.transform},v,{children:[s.jsx("line",{x1:0,x2:l,y1:0,y2:c,style:y.axis.ticks.line}),s.jsx(i.animated.text,{dominantBaseline:u,textAnchor:d,transform:m.textTransform,style:y.axis.ticks.text,children:g})]}))})),p=t.memo((function(e){var r=e.axis,a=e.scale,o=e.x,l=void 0===o?0:o,c=e.y,f=void 0===c?0:c,d=e.length,g=e.ticksPosition,p=e.tickValues,h=e.tickSize,k=void 0===h?5:h,b=e.tickPadding,T=void 0===b?5:b,P=e.tickRotation,j=void 0===P?0:P,S=e.format,O=e.renderTick,w=void 0===O?v:O,A=e.legend,X=e.legendPosition,Y=void 0===X?"end":X,C=e.legendOffset,q=void 0===C?0:C,B=e.onClick,W=e.ariaHidden,z=n.useTheme(),R=t.useMemo((function(){return y(S,a)}),[S,a]),M=m({axis:r,scale:a,ticksPosition:g,tickValues:p,tickSize:k,tickPadding:T,tickRotation:j}),V=M.ticks,E=M.textAlign,F=M.textBaseline,D=null;if(void 0!==A){var G,_=0,L=0,H=0;"y"===r?(H=-90,_=q,"start"===Y?(G="start",L=d):"middle"===Y?(G="middle",L=d/2):"end"===Y&&(G="end")):(L=q,"start"===Y?G="start":"middle"===Y?(G="middle",_=d/2):"end"===Y&&(G="end",_=d)),D=s.jsx("text",{transform:"translate("+_+", "+L+") rotate("+H+")",textAnchor:G,style:x({dominantBaseline:"central"},z.axis.legend.text),children:A})}var N=n.useMotionConfig(),I=N.animate,J=N.config,K=i.useSpring({transform:"translate("+l+","+f+")",lineX2:"x"===r?d:0,lineY2:"x"===r?0:d,config:J,immediate:!I}),Q=i.useTransition(V,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+j+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+j+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+j+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+j+")"}},leave:{opacity:0},config:J,immediate:!I});return s.jsxs(i.animated.g,{transform:K.transform,"aria-hidden":W,children:[Q((function(e,t,i,n){return u.createElement(w,x({tickIndex:n,format:R,rotate:j,textBaseline:F,textAnchor:E,animatedProps:e},t,B?{onClick:B}:{}))})),s.jsx(i.animated.line,{style:z.axis.domain.line,x1:0,x2:K.lineX2,y1:0,y2:K.lineY2}),D]})})),h={ticksPosition:d.default.oneOf(["before","after"]),tickValues:d.default.oneOfType([d.default.number,d.default.arrayOf(d.default.oneOfType([d.default.number,d.default.string,d.default.instanceOf(Date)])),d.default.string]),tickSize:d.default.number,tickPadding:d.default.number,tickRotation:d.default.number,format:d.default.oneOfType([d.default.func,d.default.string]),renderTick:d.default.func,legend:d.default.node,legendPosition:d.default.oneOf(["start","middle","end"]),legendOffset:d.default.number,ariaHidden:d.default.bool},k=d.default.shape(h),b=["top","right","bottom","left"],T=t.memo((function(e){var t=e.xScale,i=e.yScale,n=e.width,r=e.height,a={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return s.jsx(s.Fragment,{children:b.map((function(e){var o=a[e];if(!o)return null;var l="top"===e||"bottom"===e,c="top"===e||"left"===e?"before":"after";return s.jsx(p,x({},o,{axis:l?"x":"y",x:"right"===e?n:0,y:"bottom"===e?r:0,scale:l?t:i,length:l?n:r,ticksPosition:c}),e)}))})})),P=t.memo((function(e){var t=e.animatedProps,r=n.useTheme();return s.jsx(i.animated.line,x({},t,r.grid.line))})),j=t.memo((function(e){var r=e.lines,a=n.useMotionConfig(),o=a.animate,l=a.config,c=i.useTransition(r,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:l,immediate:!o});return s.jsx("g",{children:c((function(e,i){return t.createElement(P,x({},i,{key:i.key,animatedProps:e}))}))})})),S=t.memo((function(e){var i=e.width,n=e.height,r=e.xScale,a=e.yScale,o=e.xValues,l=e.yValues,c=t.useMemo((function(){return!!r&&g({width:i,height:n,scale:r,axis:"x",values:o})}),[r,o,i,n]),f=t.useMemo((function(){return!!a&&g({width:i,height:n,scale:a,axis:"y",values:l})}),[n,i,a,l]);return s.jsxs(s.Fragment,{children:[c&&s.jsx(j,{lines:c}),f&&s.jsx(j,{lines:f})]})})),O=function(e,t){var i,r=t.axis,a=t.scale,o=t.x,s=void 0===o?0:o,l=t.y,c=void 0===l?0:l,f=t.length,u=t.ticksPosition,d=t.tickValues,x=t.tickSize,y=void 0===x?5:x,g=t.tickPadding,v=void 0===g?5:g,p=t.tickRotation,h=void 0===p?0:p,k=t.format,b=t.legend,T=t.legendPosition,P=void 0===T?"end":T,j=t.legendOffset,S=void 0===j?0:j,O=t.theme,w=m({axis:r,scale:a,ticksPosition:u,tickValues:d,tickSize:y,tickPadding:v,tickRotation:h,engine:"canvas"}),A=w.ticks,X=w.textAlign,Y=w.textBaseline;e.save(),e.translate(s,c),e.textAlign=X,e.textBaseline=Y,e.font=(O.axis.ticks.text.fontWeight?O.axis.ticks.text.fontWeight+" ":"")+O.axis.ticks.text.fontSize+"px "+O.axis.ticks.text.fontFamily,(null!=(i=O.axis.domain.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(O.axis.domain.line.strokeWidth),e.lineCap="square",O.axis.domain.line.stroke&&(e.strokeStyle=O.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?f:0,"x"===r?0:f),e.stroke());var C="function"==typeof k?k:function(e){return""+e};if(A.forEach((function(t){var i;(null!=(i=O.axis.ticks.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(O.axis.ticks.line.strokeWidth),e.lineCap="square",O.axis.ticks.line.stroke&&(e.strokeStyle=O.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=C(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(n.degreesToRadians(h)),O.axis.ticks.text.fill&&(e.fillStyle=O.axis.ticks.text.fill),e.fillText(String(r),0,0),e.restore()})),void 0!==b){var q=0,B=0,W=0,z="center";"y"===r?(W=-90,q=S,"start"===P?(z="start",B=f):"middle"===P?(z="center",B=f/2):"end"===P&&(z="end")):(B=S,"start"===P?z="start":"middle"===P?(z="center",q=f/2):"end"===P&&(z="end",q=f)),e.translate(q,B),e.rotate(n.degreesToRadians(W)),e.font=(O.axis.legend.text.fontWeight?O.axis.legend.text.fontWeight+" ":"")+O.axis.legend.text.fontSize+"px "+O.axis.legend.text.fontFamily,O.axis.legend.text.fill&&(e.fillStyle=O.axis.legend.text.fill),e.textAlign=z,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()};e.Axes=T,e.Axis=p,e.AxisTick=v,e.Grid=S,e.GridLine=P,e.GridLines=j,e.axisPropType=k,e.axisPropTypes=h,e.positions=b,e.renderAxesToCanvas=function(e,t){var i=t.xScale,n=t.yScale,r=t.width,a=t.height,o=t.top,s=t.right,l=t.bottom,c=t.left,f=t.theme,u={top:o,right:s,bottom:l,left:c};b.forEach((function(t){var o=u[t];if(!o)return null;var s="top"===t||"bottom"===t,l="top"===t||"left"===t?"before":"after",c=s?i:n,d=y(o.format,c);O(e,x({},o,{axis:s?"x":"y",x:"right"===t?r:0,y:"bottom"===t?a:0,scale:c,format:d,length:s?r:a,ticksPosition:l,theme:f}))}))},e.renderAxisToCanvas=O,e.renderGridLinesToCanvas=function(e,t){var i=t.width,n=t.height,r=t.scale,a=t.axis,o=t.values;g({width:i,height:n,scale:r,axis:a,values:o}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-axes.umd.js.map
