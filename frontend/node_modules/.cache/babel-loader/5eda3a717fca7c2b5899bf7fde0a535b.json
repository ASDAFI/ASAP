{"ast":null,"code":"var _jsxFileName = \"/home/parnian/Desktop/my-app/src/components/login.component.js\";\nimport React, { Component, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      credentials: {\n        username: '',\n        password: ''\n      }\n    };\n\n    this.login = event => {\n      console.log('submitted!');\n    };\n\n    this.inputChanged = event => {\n      const cred = this.state.credentials;\n      cred[event.target.name] = event.target.value;\n      this.setState({\n        credentials: cred\n      });\n    };\n\n    this.onSubmit = async event => {\n      event.preventDefault();\n      console.log(this.state.credentials.username, this.state.credentials.password);\n      const u = this.state.credentials.username;\n      const p = this.state.credentials.password;\n      const response = await fetch('asap.carriot.ir/login', {\n        method: 'POST',\n        Headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          u,\n          p\n        })\n      });\n      const content = await response.json();\n      console.log(content); //  to check if we get esponse from server or not\n\n      setRedirect(true);\n    };\n\n    this.state = {\n      redirect: false\n    };\n  }\n\n  if(redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          className: \"form-control\",\n          placeholder: \"Enter username\",\n          name: \"username\",\n          value: this.state.credentials.username,\n          onChange: this.inputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter password\",\n          id: \"password\",\n          name: \"password\",\n          value: this.state.credentials.password,\n          onChange: this.inputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-control custom-checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"custom-control-input\",\n            id: \"customCheck1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"custom-control-label\",\n            htmlFor: \"customCheck1\",\n            children: \"Remember me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: this.login,\n        className: \"btn btn-dark btn-lg btn-block\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/parnian/Desktop/my-app/src/components/login.component.js"],"names":["React","Component","useState","Redirect","Login","constructor","props","state","credentials","username","password","login","event","console","log","inputChanged","cred","target","name","value","setState","onSubmit","preventDefault","u","p","response","fetch","method","Headers","body","JSON","stringify","content","json","setRedirect","redirect","if","render"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nexport default class Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          redirect:false    \n        };\n      }\n    state = {\n        credentials: {username: '', password: ''}\n    }\n    login = event => {\n        console.log('submitted!');\n    }\n\n    inputChanged = event => {\n        const cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n        this.setState({credentials: cred});\n      }\n      onSubmit = async event => {\n        event.preventDefault();\n        console.log(this.state.credentials.username , this.state.credentials.password );\n        const u  = this.state.credentials.username;\n        const p  =  this.state.credentials.password\n        const response = await fetch('asap.carriot.ir/login' ,{\n            method: 'POST',\n            Headers :{\n                'Content-Type': 'application/json'\n            } ,\n            credentials : 'include',\n            body: JSON.stringify(\n                { u , p}\n            )\n        });\n        const content  = await response.json();\n        console.log(content);  //  to check if we get esponse from server or not\n        setRedirect(true);\n    }\n    if (redirect) {\n        return <Redirect to=\"/\"/>;\n    }\n\n    render() {\n        \n        return (\n            <form  onSubmit={this.onSubmit}>\n                <h3>Log in</h3>\n                <div className=\"form-group\" >\n                    <label>Username</label>\n                    <input type=\"username\" className=\"form-control\" placeholder=\"Enter username\"  name=\"username\" value={this.state.credentials.username}  onChange={this.inputChanged} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" id = \"password\" name=\"password\" value={this.state.credentials.password} onChange={this.inputChanged}   />\n                </div>\n\n                <div className=\"form-group\">\n                    <div className=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\n                    </div>\n                </div>\n                <button type=\"submit\" onClick={this.login} className=\"btn btn-dark btn-lg btn-block\"  >Sign in</button>\n            </form>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}