{"ast":null,"code":"var _jsxFileName = \"/home/parnian/Desktop/my-app/src/components/login.component.js\";\nimport React, { Component, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.login = event => {\n      console.log('submitted!');\n    };\n\n    this.inputChanged = event => {\n      const cred = this.state.credentials;\n      cred[event.target.name] = event.target.value;\n      this.setState({\n        credentials: cred\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      console.log(this.state.credentials.username, this.state.credentials.password);\n      const u = this.state.credentials.username;\n      const p = this.state.credentials.password;\n      const response = fetch('http://localhost:8000/login', {\n        method: 'POST',\n        Headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: u,\n          password: p\n        })\n      }).then(function (res) {\n        console.log(res.json().token);\n      }).catch(err => {\n        console.log(err);\n      }); // const content  = response.jd;\n      // const token =  content[\"token\"];\n      // console.log(\"content:\",content);\n      // console.log(\"token:\" ,token);\n      // if ( !token){\n      //      console.log(\"incorrect\");\n      //      this.setState({redirect:false});\n      // } else{\n      //     console.log(\"correct\");\n      //     localStorage.setItem('token', token);\n      //     this.setState({redirect:true});\n      // }\n    };\n\n    this.state = {\n      redirect: false,\n      credentials: {\n        username: '',\n        password: ''\n      }\n    };\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          className: \"form-control\",\n          placeholder: \"Enter username\",\n          name: \"username\",\n          value: this.state.credentials.username,\n          onChange: this.inputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter password\",\n          id: \"password\",\n          name: \"password\",\n          value: this.state.credentials.password,\n          onChange: this.inputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-control custom-checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"custom-control-input\",\n            id: \"customCheck1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"custom-control-label\",\n            htmlFor: \"customCheck1\",\n            children: \"Remember me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: this.login,\n        className: \"btn btn-dark btn-lg btn-block\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/parnian/Desktop/my-app/src/components/login.component.js"],"names":["React","Component","useState","Navigate","Login","constructor","props","login","event","console","log","inputChanged","cred","state","credentials","target","name","value","setState","onSubmit","preventDefault","username","password","u","p","response","fetch","method","Headers","body","JSON","stringify","then","res","json","token","catch","err","redirect","render"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport {Navigate} from \"react-router-dom\";\n\nexport default class Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          redirect:false ,\n          credentials: {username: '', password: ''} \n        };\n      }\n  \n    login = event => {\n        console.log('submitted!');\n    }\n\n    inputChanged = event => {\n        const cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n        this.setState({credentials: cred});\n      }\n      onSubmit =  event => {\n        event.preventDefault();\n        console.log(this.state.credentials.username , this.state.credentials.password );\n        const u  = this.state.credentials.username;\n        const p  =  this.state.credentials.password\n        const response = fetch('http://localhost:8000/login' ,{\n            method: 'POST',\n            Headers :{\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json',\n            } ,\n            body: JSON.stringify(\n                { username : u , password : p }\n            )\n        }).then(function(res){ console.log(res.json().token);}).catch(err => {console.log(err)});\n        // const content  = response.jd;\n        // const token =  content[\"token\"];\n        // console.log(\"content:\",content);\n        // console.log(\"token:\" ,token);\n        // if ( !token){\n        //      console.log(\"incorrect\");\n        //      this.setState({redirect:false});\n        // } else{\n        //     console.log(\"correct\");\n        //     localStorage.setItem('token', token);\n        //     this.setState({redirect:true});\n        // }\n    }\n  \n    render() {\n        if (this.state.redirect) {\n            return < Navigate to=\"/\"/>;\n        }\n        return (\n            <form  onSubmit={this.onSubmit}>\n                <h3>Log in</h3>\n                <div className=\"form-group\" >\n                    <label>Username</label>\n                    <input type=\"username\" className=\"form-control\" placeholder=\"Enter username\"  name=\"username\" value={this.state.credentials.username}  onChange={this.inputChanged} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" id = \"password\" name=\"password\" value={this.state.credentials.password} onChange={this.inputChanged}   />\n                </div>\n\n                <div className=\"form-group\">\n                    <div className=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\n                    </div>\n                </div>\n                <button type=\"submit\" onClick={this.login} className=\"btn btn-dark btn-lg btn-block\"  >Sign in</button>\n            </form>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}